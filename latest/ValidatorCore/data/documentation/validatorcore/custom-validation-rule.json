{"metadata":{"role":"article","title":"Creating Custom Validation Rules","roleHeading":"Article","modules":[{"name":"ValidatorCore"}]},"schemaVersion":{"major":0,"patch":0,"minor":3},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/validator.ValidatorCore\/documentation\/ValidatorCore\/custom-validation-rule"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/validatorcore\/custom-validation-rule"]}],"abstract":[{"text":"ValidatorCore is designed to be extensible. If the built-in validation rules do not meet your needs, you can create custom validation rules tailored to your application.","type":"text"}],"sections":[],"hierarchy":{"paths":[["doc:\/\/validator.ValidatorCore\/documentation\/ValidatorCore"]]},"kind":"article","primaryContentSections":[{"content":[{"anchor":"overview","type":"heading","level":2,"text":"Overview"},{"type":"paragraph","inlineContent":[{"text":"This guide will show you how to create, use, and test a custom rule.","type":"text"}]},{"anchor":"Step-1-Conform-to-IValidationRule","type":"heading","level":2,"text":"Step 1: Conform to IValidationRule"},{"type":"paragraph","inlineContent":[{"text":"All validation rules in ValidatorCore conform to the IValidationRule protocol. It requires specifying the input type and implementing a validate function.","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["import ValidatorCore","","struct ContainsDigitRule: IValidationRule<String> {","    let error: String","","    func validate(input: String) -> Bool {","        if input.rangeOfCharacter(from: .decimalDigits) != nil {","            return true","        } else {","            return false","        }","    }","}"]},{"type":"paragraph","inlineContent":[{"text":"Explanation:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"code":"IValidationRule<String>","type":"codeVoice"},{"text":" – our rule will validate strings.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"error","type":"codeVoice"},{"text":" – the message returned if validation fails.","type":"text"}]}]},{"content":[{"inlineContent":[{"code":"validate(input:)","type":"codeVoice"},{"type":"text","text":" – the core logic. Here, we check if the input contains at least one digit."}],"type":"paragraph"}]}]},{"anchor":"Step-2-Use-Your-Custom-Rule","type":"heading","level":2,"text":"Step 2: Use Your Custom Rule"},{"type":"paragraph","inlineContent":[{"text":"Once the rule is defined, you can use it with Validator just like any built-in rule:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["let validator = Validator()","let password = \"Password123\"","","let result = validator.validate(","    input: password,","    rule: ContainsDigitRule(error: \"Password must contain at least one number\")",")","","switch result {","case .success:","    print(\"Password is valid ✅\")","case .failure(let error):","    print(\"Password is invalid ❌: \\(error.description)\")","}"]},{"type":"paragraph","inlineContent":[{"text":"Explanation:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"The custom rule integrates seamlessly with the existing validation workflow.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Validation result handling remains the same as with built-in rules."}]}]}]},{"anchor":"Step-3-Combining-Custom-and-Built-in-Rules","type":"heading","level":2,"text":"Step 3: Combining Custom and Built-in Rules"},{"type":"paragraph","inlineContent":[{"text":"You can combine custom rules with built-in rules for more complex validation logic:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["let password = \"Password123\"","","let rules: [any IValidationRule<String>] = [","    NonEmptyValidationRule(error: \"Password cannot be empty\"),","    LengthValidationRule(min: 8, max: 20, error: \"Password must be 8-20 characters\"),","    ContainsDigitRule(error: \"Password must contain at least one number\")","]","","let validator = Validator()","","let result = validator.validate(input: password, rules: rules)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Explanation:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Each rule validates one specific aspect of the input (e.g., non-empty, length, contains a digit).","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The Validator applies each rule independently."}]}]},{"content":[{"inlineContent":[{"text":"This approach keeps rules focused, reusable, and simple, while Validator handles iterating through multiple rules.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can freely mix custom and built-in rules to create comprehensive validation logic without combining rules inside the rules themselves."}]}]}]},{"anchor":"Tips-for-Writing-Custom-Rules","type":"heading","level":2,"text":"Tips for Writing Custom Rules"},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Keep rules focused – one rule should check one condition."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Provide meaningful error messages – users should understand why input is invalid."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Unit test your rules – write tests to ensure correct behavior under different input scenarios."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Reuse rules – if a rule is useful in multiple places, keep it generic and reusable."}],"type":"paragraph"}]}]},{"anchor":"Next-Steps","type":"heading","level":2,"text":"Next Steps"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Experiment by creating rules for emails, passwords, usernames, or any custom format."}]}],"kind":"content"}],"seeAlsoSections":[{"title":"Articles","generated":true,"identifiers":["doc:\/\/validator.ValidatorCore\/documentation\/ValidatorCore\/installation","doc:\/\/validator.ValidatorCore\/documentation\/ValidatorCore\/quick-start"],"anchor":"Articles"}],"references":{"doc://validator.ValidatorCore/documentation/ValidatorCore/quick-start":{"identifier":"doc:\/\/validator.ValidatorCore\/documentation\/ValidatorCore\/quick-start","title":"Quick Start","role":"article","abstract":[{"type":"text","text":"This guide will walk you through the basics of using ValidatorCore for input validation. By the end, you’ll know how to validate common input types like strings and numbers, handle validation results, and get started with custom rules."}],"url":"\/documentation\/validatorcore\/quick-start","type":"topic","kind":"article"},"doc://validator.ValidatorCore/documentation/ValidatorCore":{"type":"topic","kind":"symbol","role":"collection","title":"ValidatorCore","url":"\/documentation\/validatorcore","abstract":[],"identifier":"doc:\/\/validator.ValidatorCore\/documentation\/ValidatorCore"},"doc://validator.ValidatorCore/documentation/ValidatorCore/installation":{"kind":"article","abstract":[{"type":"text","text":"A guide to installing the Validator package into your Swift project using Swift Package Manager."}],"url":"\/documentation\/validatorcore\/installation","identifier":"doc:\/\/validator.ValidatorCore\/documentation\/ValidatorCore\/installation","title":"Installation","role":"article","type":"topic"}}}